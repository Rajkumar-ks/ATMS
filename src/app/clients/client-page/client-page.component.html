<div class="page-wrapper">
  <div class="content container-fluid">
    <div class="row">
      <div class="col-md-8">
        <h4 class="page-title">Client </h4>
      </div>
      <div class="col-xs-2 text-right m-b-30">
        <div class="view-icons wrap">
          <a [ngClass]="{active:!allClients}" (click)="allClients=false" style="width: 15pxp;"
            class="hover grid-view btn btn-link pull-right"><i class="fa fa-th"></i></a>
          <a [ngClass]="{active:allClients}" (click)="allClients=true"
            class="hover list-view btn btn-link pull-right"><i class="fa fa-bars"></i></a>
        </div>
      </div>
      <div class="col-xs-2 text-right m-b-30">
        <!-- <a href="javascript:" class="btn btn-info pull-right" (click)="addReset()">New Client</a> -->
        <button mat-mini-fab color="primary" class="pull-right" matTooltip="New Client" (click)="addReset()">+</button>

      </div>
    </div>

    <div id="add_client" class="modal fade" style="padding: 20px;" tabindex="-1" role="dialog" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-body" style=" width: 752px">
          <div class="panel panel-primary" style="color:black">
            <div class="panel-heading">
              <div class="row">
                <div class="col-sm-6">
                  <h4 class="modal-title m-l-15" style=" margin:10px 3px 3px 4px;">Client</h4>
                </div>
              </div>
            </div>
            <div class="panel-body" style="padding: 30px ;">
              <form [formGroup]="form">
                <div class="row">
                  <mat-form-field class="example-full-width col-sm-4">
                    <mat-label><i style=" color:#4871eb;" class=" fa fa-building-o fa-fw "></i>Client name
                    </mat-label>
                    <input type="text" (keypress)="keyPressChar($event)" matInput formControlName="clientName">
                  </mat-form-field>

                  <mat-form-field class="example-full-width col-sm-4">
                    <mat-label><i style="color:#4871eb;" class=" fa fa-phone fa-fw"></i>Client Number
                    </mat-label>
                    <input matInput formControlName="clientNumber" type="text" (keypress)="keyPress($event)"
                      minlength=10 maxlength=10>
                  </mat-form-field>
                </div>
                <div class="row">
                  <mat-form-field class="example-full-width col-sm-4">
                    <mat-label (keypress)="keyPressChar($event)">Region</mat-label>
                    <input matInput formControlName="region">
                  </mat-form-field>

                  <mat-form-field class="example-full-width col-sm-4">
                    <mat-label (keypress)="keyPressChar($event)">Country</mat-label>
                    <input matInput formControlName="country">
                  </mat-form-field>

                  <mat-form-field class="example-full-width col-sm-4">
                    <mat-label (keypress)="keyPressChar($event)">State</mat-label>
                    <input matInput formControlName="state">
                  </mat-form-field>
                </div>
                <div class="row">
                  <mat-form-field class="example-full-width col-sm-4">
                    <mat-label (keypress)="keyPressChar($event)">Place</mat-label>
                    <input matInput formControlName="place">
                  </mat-form-field>

                  <mat-form-field class="example-full-width col-sm-4">
                    <mat-label (keypress)="keyPressChar($event)">Campus</mat-label>
                    <input matInput formControlName="campus">
                  </mat-form-field>

                  <mat-form-field class="example-full-width col-sm-4">
                    <mat-label><i style="color:#4871eb;" class=" fa fa-envelope fa-fw " aria-hidden=" true "></i>Client
                      Email</mat-label>
                    <input type="email" matInput formControlName="client_email" ngModel email="true">
                  </mat-form-field>
                </div>

                <div class="row">
                  <mat-form-field class="example-full-width col-sm-4">
                    <mat-label>Invoice Address</mat-label>
                    <input matInput formControlName="invoiceAddress">
                  </mat-form-field>

                  <mat-form-field class="example-full-width col-sm-4">
                    <mat-label (keypress)="keyPressChar($event)"><i style=" color:#4871eb; "
                        class=" fa fa-user fa-fw "></i>Contact Person</mat-label>
                    <input matInput formControlName="contactPerson">
                  </mat-form-field>

                  <mat-form-field class="example-full-width col-sm-4">
                    <mat-label><i style="color:#4871eb;" class=" fa fa-phone fa-fw"></i>Contact Numberr
                    </mat-label>
                    <input matInput formControlName="cltCntctNumber" type="text" (keypress)="keyPress($event)"
                      minlength=10 maxlength=10>
                  </mat-form-field>
                </div>
                <div class="m-t-20">
                  <div class=" btn-toolbar">
                    <button class="btn btn-danger pull-right" data-dismiss="modal" (click)=form.reset();> <span
                        class="usrrm glyphicon glyphicon-remove" style="color:white;"></span></button>
                    <button class="btn btn-success pull-right" data-dismiss="modal" [disabled]="form.invalid"
                      (click)="onSubmit()"><span class="usrrm glyphicon glyphicon-ok"> </span></button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>


    <div class="row">
      <mat-form-field class="full-width col-sm-2">
        <mat-label class="navbar-toggler-icon fa fa-search">Client Name</mat-label>
        <mat-select (selectionChange)="searchClient($event.value)">
          <mat-option value="All">All</mat-option>
          <mat-option *ngFor="let client of clientList" [value]="client.Client_Name"> {{client.Client_Name}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field class="full-width col-sm-2" style="margin-left:5px;">
        <mat-label class="navbar-toggler-icon fa fa-search">Client Region</mat-label>
        <mat-select (selectionChange)="searchRegion($event.value)">
          <mat-option value="All">All</mat-option>
          <mat-option *ngFor="let region of RegionList" [value]="region.region">{{region.region}}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>


    <div class="row" *ngIf="allClients">
      <div class="col-md-12">
        <div class="table-responsive table-responsive-inherit">
          <table class="table table-striped custom-table" [mfData]="rows" #mf="mfDataTable" [mfRowsOnPage]="5">
            <thead>
              <!-- <tr> -->
              <tr>
                <th style="width: 15%">
                  <mfDefaultSorter by="">Client Name</mfDefaultSorter>
                </th>
                <th style="width: 10%">
                  <mfDefaultSorter by="">Client Id</mfDefaultSorter>
                </th>
                <th style="width: 10%">
                  <mfDefaultSorter by="">Client Number</mfDefaultSorter>
                </th>
                <th style="width: 10%">
                  <mfDefaultSorter by="">Region</mfDefaultSorter>
                </th>
                <!-- <th style="width: 10%">
                  <mfDefaultSorter by="">Country</mfDefaultSorter>
                </th>
                <th style="width: 5%">
                  <mfDefaultSorter by="">State</mfDefaultSorter>
                </th>
                <th style="width: 5%">
                  <mfDefaultSorter by="">Place</mfDefaultSorter>
                </th>

                <th style="width: 15%">
                  <mfDefaultSorter by="">Campus</mfDefaultSorter>
                </th> -->
                <th style="width: 10%">
                  <mfDefaultSorter by="">Client Email</mfDefaultSorter>
                </th>
                <th style="width: 10%">
                  <mfDefaultSorter by="">Invoice Address</mfDefaultSorter>
                </th>
                <th style="width: 10%">
                  <mfDefaultSorter by="">Contact Person</mfDefaultSorter>
                </th>
                <th style="width: 10%">
                  <mfDefaultSorter by="">Ph.Number</mfDefaultSorter>
                </th>
                <th style="width: 15%">
                  <mfDefaultSorter by="">Action</mfDefaultSorter>
                </th>

              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of clientdetails |paginate: {
  itemsPerPage: pageSize,
  currentPage:page,
  totalItems : count }; let i index">
                <td>
                  <a href="javascript:" class="avatar" (click)="viewProfile(item)">{{item.Client_Name.split('')[0]}}</a>
                  <h2><a href="javascript:" (click)="viewProfile(item)">{{item.Client_Name}}</a></h2>
                </td>
                <!-- <td>{{item.Client_Name}}</td> -->
                <td>{{item.client_id }}</td>
                <td>{{item.clientNumber }}</td>
                <td>{{item.region }}</td>
                <!-- <td>{{item.country}}</td> -->
                <!-- <td>{{item.state}}</td> -->
                <!-- <td>{{item.place}}</td> -->
                <!-- <td>{{item.campus}}</td> -->
                <td>{{item.client_email}}</td>

                <!-- <td style="cursor: pointer;"><a (click)="showReason(item.client_email)"><u>Click Me</u></a></td> -->
                <td style="cursor: pointer;"><a (click)="showReason(item.invoice_address)"><u>Click Me</u></a>
                </td>
                <td>{{item.contactPerson }}</td>
                <td>{{item.cltCntctNumber}} </td>
                <td>
                  <div class="btn-toolbar">
                    <button data-toggle="modal" class="btn btn-warning btn-sm-toolbar"
                    (click)="edit(item.cli_pr_id,item.Client_Name,item.client_id ,item.clientNumber,item.region,item.country, item.state, item.place,item.campus, item.client_email, item.invoice_address, item.contactPerson , item.cltCntctNumber)">
                    <span class="usrrm glyphicon glyphicon-pencil" style="color:white;"> </span>
                    </button>
                    <button data-toggle="modal" class="btn btn-danger btn-sm-toolbar" (click)="delete(item.cli_pr_id)">
                      <span class="usrrm glyphicon glyphicon-trash"> </span>
                    </button>
                  </div>
                </td>
              </tr>
            </tbody>
            <tfoot>
              <tr>
                <td colspan="20">
                  <div class="row">
                    <div class="col">
                      <div class="col-sm-8">
                          Items per Page:
                          <select (change)="handlePageSizeChange($event)">
                            <option *ngFor="let size of pageSizes" [ngValue]="size">
                              {{ size }}
                            </option>
                          </select>
                      </div>
                      <div class="col-sm-4">
                          <pagination-controls previousLabel="Prev" nextLabel="Next" responsive="true"
                            (pageChange)="handlePageChange($event)"></pagination-controls>
                          <mfBootstrapPaginator></mfBootstrapPaginator>
                      </div>
                    </div>
                  </div>
                  <!-- <div class="mt-2">
                    Items per Page:
                    <select (change)="handlePageSizeChange($event)">
                      <option *ngFor="let size of pageSizes" [ngValue]="size">
                        {{ size }}
                      </option>
                    </select>
                  </div>
                  <div id="page" style="margin-left: 82ng s0px;">
                    <pagination-controls previousLabel="Prev" nextLabel="Next" responsive="true"
                      (pageChange)="handlePageChange($event)"></pagination-controls>
                    <mfBootstrapPaginator></mfBootstrapPaginator>
                  </div> -->
                </td>
              </tr>
            </tfoot>
          </table>
        </div>
      </div>
    </div>

    <div id="view_profile" class="modal fade" style="padding: 49px 0 3px 3px;" role="dialog">
      <div class="modal-dialog uc-modal">
        <!-- <div class="modal-content modal-md"> -->
        <div class="modal-body card-box" style=" width: 882px; height:340px">
          <table role="table" table border="1">
            <thead>
              <tr style="padding:14px">
                <th style="padding:14px">Client Name</th>
                <th style="padding:14px">Client Id</th>
                <th style="padding:14px"> Client Number</th>
                <th style="padding:14px">Region</th>
                <th style="padding:14px">Country</th>
                <th style="padding:14px">State</th>
              </tr>
            </thead>
            <tbody>
              <tr style="padding:14px">
                <td style="padding:14px">{{this.edtclientName}}</td>
                <td style="padding:14px">{{this.edtclient_id}}</td>
                <td style="padding:14px">{{this.edtclientNumber}}</td>
                <td style="padding:14px">{{this.edtregion}}</td>
                <td style="padding:14px">{{this.edtcountry}}</td>
                <td style="padding:14px">{{this.edtstate}}</td>
              </tr>
            </tbody>
            <thead>

              <tr style="padding:14px">
                <th style="padding:14px">Place</th>
                <th style="padding:14px">Campus</th>
                <th style="padding:14px">Client Email</th>
                <th style="padding:14px">Invoice Address</th>
                <th style="padding:14px">Contact Person</th>
                <th style="padding:14px">Ph.Number</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td style="padding:14px">{{this.edtplace}}</td>
                <td style="padding:14px">{{this.edtcampus}}</td>
                <td style="padding:14px">{{this.edtclient_email}}</td>
                <td style=" cursor: pointer;"><a (click)="showReason(this.edtinvoice_address)"><u>Click
                      Me</u></a></td>
                <td style="padding:14px">{{this.edtcontactPerson}}</td>
                <td style="padding:14px">{{this.edtcltCntctNumber}} </td>
              </tr>
            </tbody>
          </table>
          <div class="m-t-20"> <a href="javascript:" class="btn btn-default btn-info pull-right"
              data-dismiss="modal">Close</a> </div>
        </div>
        <!-- </div> -->
      </div>
    </div>

    <div id="edit_client" class="modal fade" style="padding: 20px;" role="dialog">
      <div class="modal-dialog uc-modal">
        <div class="modal-body" style=" width:752px">
          <div class="panel panel-primary" style="color:black">
            <div class="panel-heading">
              <div class="row">
                <div class="col-sm-6">
                  <h4 class="modal-title m-l-15" style=" padding : 5px; margin:30px 3px 3px 4px;">Edit Client
                  </h4>
                </div>
              </div>
            </div>
            <div class="panel-body" style="padding: 30px  ;">
              <form [formGroup]="editform">

                <div class="row">
                  <mat-form-field class="example-full-width col-sm-4">
                    <mat-label>Client name</mat-label>
                    <input matInput formControlName="editclientName" [(ngModel)]="this.edtclientName">
                  </mat-form-field>

                  <mat-form-field class="example-full-width col-sm-4">
                    <mat-label><i style="color:#4871eb;" class=" fa fa-phone fa-fw"></i>Client Number
                    </mat-label>
                    <input matInput formControlName="editclientNumber" type="text" (keypress)="keyPress($event)"
                      minlength=10 maxlength=10 [(ngModel)]="this.edtclientNumber">
                  </mat-form-field>
                </div>

                <div class="row">
                  <mat-form-field class="example-full-width col-sm-4">
                    <mat-label>Region</mat-label>
                    <input matInput formControlName="editregion" [(ngModel)]="this.edtregion">
                  </mat-form-field>

                  <mat-form-field class="example-full-width col-sm-4">
                    <mat-label>Country</mat-label>
                    <input matInput formControlName="editcountry" [(ngModel)]="this.edtcountry">
                  </mat-form-field>

                  <mat-form-field class="example-full-width col-sm-4">
                    <mat-label>State</mat-label>
                    <input matInput formControlName="editstate" [(ngModel)]="this.edtstate">
                  </mat-form-field>
                </div>

                <div class="row">
                  <mat-form-field class="example-full-width col-sm-4">
                    <mat-label>Place</mat-label>
                    <input matInput formControlName="editplace" [(ngModel)]="this.edtplace">
                  </mat-form-field>

                  <mat-form-field class="example-full-width col-sm-4">
                    <mat-label>Campus</mat-label>
                    <input matInput formControlName="editcampus" [(ngModel)]="this.edtcampus">
                  </mat-form-field>

                  <mat-form-field class="example-full-width col-sm-4"><i style="color:#4871eb;"
                      class=" fa fa-envelope fa-fw " aria-hidden=" true "></i>
                    <mat-label>Client Email</mat-label>
                    <input type="email" matInput formControlName="editclient_email" ngModel email="true"
                      [(ngModel)]="this.edtclient_email">
                  </mat-form-field>
                </div>

                <div class="row">
                  <mat-form-field class="example-full-width col-sm-4">
                    <mat-label>Invoice Address</mat-label>
                    <input matInput formControlName="editinvoiceAddress" [(ngModel)]="this.edtinvoice_address">
                  </mat-form-field>

                  <mat-form-field class="example-full-width col-sm-4">
                    <mat-label><i style=" color:#4871eb; " class=" fa fa-user fa-fw "></i>Contact Person
                    </mat-label>
                    <input matInput formControlName="editcontactPerson" [(ngModel)]="this.edtcontactPerson">
                  </mat-form-field>

                  <mat-form-field class="example-full-width col-sm-4">
                    <mat-label><i style="color:#4871eb;" class=" fa fa-phone fa-fw"></i>Contact Numberr
                    </mat-label>
                    <input matInput formControlName="editcltCntctNumber" type="text" (keypress)="keyPress($event)"
                      minlength=10 maxlength=10 [(ngModel)]="this.edtcltCntctNumber">
                  </mat-form-field>
                </div>

                <div class="m-t-20">
                  <div class=" btn-toolbar">
                    <button class="btn btn-danger pull-right" data-dismiss="modal" (click)=form.reset();> <span
                        class="usrrm glyphicon glyphicon-remove" style="color:white;"></span></button>
                    <button class="btn btn-success pull-right" data-dismiss="modal" (click)="submitEdit()"><span
                        class="usrrm glyphicon glyphicon-ok"> </span></button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="submit_clent" style="padding: 49px 0 3px 3px;" class="modal fade" role="dialog">
      <div class="modal-dialog uc-modal">
        <div class=" profile-widget" style="margin-top:44px;">
          <div row>
            <h3 class="panel-title" class="text-center">
              Client
            </h3>
          </div>
          <h6>Are you sure want to submit ?</h6>
          <div class=" m-t-20 text-left">
            <div row>
              <div class="col-sm-1">
                <button class="btn btn-info" data-dismiss="modal" (click)="reappear()">
                  <i class="fa fa-arrow-left" style="size:38%;"></i>
                </button>
              </div>
            </div>
            <div class="text-right">
              <button type="cancel" class="btn btn-danger" data-dismiss="modal" (click)=form.reset();>Cancel</button>
              <button type="submit" data-dismiss="modal" (click)="confirm()" class="btn btn-success">Submit</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="edit_submit_clent" style="padding: 49px 0 3px 3px;" class="modal fade" role="dialog">
      <div class="modal-dialog uc-modal">
        <div class=" profile-widget" style="margin-top:44px;">
          <div row>
            <h3 class="panel-title" class="text-center">
              Edit Client </h3>
          </div>
          <div class="panel-body" style="padding: 30px ;">
            <h6>Are you sure want to submit ?</h6>
          </div>
          <div class=" m-t-20 text-left">
            <div row>
              <div class="col-sm-1">
                <button class="btn btn-info" data-dismiss="modal" (click)="reappearedit()">
                  <i class="fa fa-arrow-left" style="size:38%;"></i>
                </button>
              </div>
            </div>
            <div class="text-right">
              <button type="cancel" class="btn btn-danger" data-dismiss="modal" (click)=form.reset();>Cancel</button>
              <button type="submit" data-dismiss="modal" (click)="confirmSubmitEdit()"
                class="btn btn-success">Submit</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="delete_submit_clent" style="padding: 49px 0 3px 3px;" class="modal fade" role="dialog">
      <div class="modal-dialog uc-modal">
        <div class="panel panel-primary" style=" width: 500px">
          <div class="panel-heading">
            <h3 class="panel-title" class="text-center">
              Delete Client </h3>
          </div>
          <div class="panel-body" style="padding: 30px ;">
            <h6>Are you sure want to delete ?</h6>
          </div>
          <div class="panel-footer">
            <div class=" m-t-20 text-left">
              <div class="text-right">
                <button type="cancel" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                <button type="submit" data-dismiss="modal" (click)="confirmSubmitDelete()"
                  class="btn btn-success">Submit</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>


    <div class="row staff-grid-row" *ngIf="!allClients">
      <div class="col-md-4 col-sm-4 col-xs-6 col-lg-3" *ngFor="let item of clientdetails">
        <div class="profile-widget">
          <div class="profile-img">
            <a (click)="viewProfile(item)" class="avatar">{{item.Client_Name.split('')[0]}}</a>
          </div>
          <div class="dropdown profile-action">
            <a href="javascript:" class="action-icon dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i
                class="fa fa-ellipsis-v"></i></a>
            <ul class="dropdown-menu pull-right">
              <li><a
                  (click)="edit(item.cli_pr_id,item.Client_Name,item.client_id ,item.clientNumber,item.region,item.country, item.state, item.place,item.campus, item.client_email, item.invoice_address, item.contactPerson , item.cltCntctNumber)"><i
                    class="fa fa-pencil m-r-5"></i>
                  Edit</a></li>
              <li><a (click)="delete(item.cli_pr_id)"><i class="fa fa-trash-o m-r-5"></i> Delete</a></li>
            </ul>
          </div>
          <h4 class="user-name m-t-10 m-b-0 text-ellipsis"><a href="javascript:">{{item.Client_Name}}</a></h4>
          <!-- <h5 class="user-name m-t-10 m-b-0 text-ellipsis"><a href="javascript:">{{item.Client_Name}}</a></h5> -->
          <div class="small text-muted"></div>
          <!-- <a href="javascript:" class="btn btn-default btn-sm m-t-10">Message</a> -->
          <a (click)="viewProfile(item)" class="btn btn-default btn-sm m-t-10 m-l-5">View
            Profile</a>
        </div>
      </div>
    </div>
  </div>
</div>